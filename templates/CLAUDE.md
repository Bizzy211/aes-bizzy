# Claude Code Instructions

This file provides global instructions for Claude Code AI agents.

## Overview

This project uses the Claude Ecosystem CLI for AI-powered development. All agents should follow these instructions to maintain consistency and quality.

## Task Management

### Task Master Integration

This project uses Task Master for task management. Import the Task Master workflow commands:

**@./.taskmaster/CLAUDE.md**

### Essential Commands

```bash
# View tasks
task-master list
task-master next
task-master show <id>

# Update status
task-master set-status --id=<id> --status=done

# Create/modify tasks
task-master add-task --prompt="description"
task-master expand --id=<id>
task-master update-subtask --id=<id> --prompt="notes"
```

## Coding Standards

### General Guidelines

- Use TypeScript for all new code
- Follow the existing code style and patterns
- Write self-documenting code with clear variable/function names
- Add JSDoc comments for public APIs
- Keep functions small and focused (single responsibility)

### File Organization

- Group related functionality in modules
- Use index.ts files for clean exports
- Separate types into dedicated type files
- Keep tests adjacent to source files or in tests/ directory

### Error Handling

- Use typed errors where possible
- Provide meaningful error messages
- Handle edge cases explicitly
- Log errors with context for debugging

## Testing Requirements

### Before Committing

1. Run all tests: `npm test`
2. Check types: `npm run typecheck`
3. Run linting: `npm run lint`

### Writing Tests

- Write tests for all new features
- Include edge cases and error scenarios
- Mock external dependencies
- Aim for >80% code coverage

## Git Workflow

### Commit Messages

Follow conventional commits format:

```
<type>(<scope>): <description>

[optional body]
```

Types: `feat`, `fix`, `docs`, `style`, `refactor`, `test`, `chore`

### Branch Strategy

- Create feature branches from `main`
- Use descriptive branch names: `feature/add-auth`, `fix/login-bug`
- Keep branches short-lived
- Squash commits when merging

## Context Management

### Beads Integration

Use Beads for persistent context across sessions:

```bash
# Create a context bead
bd add --title "Decision" --type decision --notes "Explanation"

# List beads
bd list

# Search beads
bd search "keyword"
```

### Previous Work

When continuing work, reference previous decisions and implementations:

1. Check Beads for relevant context
2. Review recent commits
3. Check Task Master for related tasks
4. Read existing documentation

## MCP Servers

The following MCP servers are configured:

- **Supabase** - Database operations
- **GitHub** - Repository management
- **Tavily** - Web search
- **Context7** - Documentation lookup

Use appropriate MCP tools for external operations.

## Agent Handoff

When handing off to another agent:

1. Summarize completed work
2. Document any decisions made
3. List pending items
4. Provide context for next steps
5. Record accomplishments in Beads

## Quality Checks

Before marking work complete:

- [ ] Code follows style guidelines
- [ ] All tests pass
- [ ] Types are correct
- [ ] Documentation updated
- [ ] Changes are committed
- [ ] Task status updated

---

*Generated by Claude Ecosystem CLI*
